{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as translations from \"../translations\";\nimport { useLocalStorage } from \"./useStorage\";\n\nconst useTranslation = () => {\n  _s();\n\n  const [language, setLanguage, remove] = useLocalStorage(\"language\", \"en\");\n  const [fallbackLanguage, setFallbackLanguage] = useLocalStorage(\"fallbackLanguage\", \"en\");\n\n  const translate = key => {\n    var _ref, _getNestedTranslation;\n\n    const keys = key.split(\".\");\n    console.log(keys, 'keys');\n    return (_ref = (_getNestedTranslation = getNestedTranslation(language, keys)) !== null && _getNestedTranslation !== void 0 ? _getNestedTranslation : getNestedTranslation(fallbackLanguage, keys)) !== null && _ref !== void 0 ? _ref : key;\n  };\n\n  return {\n    language,\n    setLanguage,\n    fallbackLanguage,\n    setFallbackLanguage,\n    t: translate,\n    remove\n  };\n};\n\n_s(useTranslation, \"yWE+tAePIMfgwCXr4DIdKFhbLE0=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n\nfunction getNestedTranslation(language, keys) {\n  console.log({\n    language,\n    keys\n  }); // reduce nhận 2 đối số, hàm và giá trị khởi tạo\n\n  return keys.reduce((obj, key) => {\n    console.log(obj === null || obj === void 0 ? void 0 : obj[key], obj, key, 'obj?.[key]');\n    return obj === null || obj === void 0 ? void 0 : obj[key];\n  }, translations[language]);\n}\n\nexport default useTranslation;","map":{"version":3,"names":["translations","useLocalStorage","useTranslation","language","setLanguage","remove","fallbackLanguage","setFallbackLanguage","translate","key","keys","split","console","log","getNestedTranslation","t","reduce","obj"],"sources":["/home/techchain/Desktop/custom_hooks-and-hoc-reactjs/NganNguyen/custom-hooks/src/hooks/useTranslation.ts"],"sourcesContent":["import React from \"react\";\nimport * as translations from \"../translations\";\nimport { useLocalStorage } from \"./useStorage\";\n\nconst useTranslation = () => {\n  const [language, setLanguage, remove] = useLocalStorage(\"language\", \"en\");\n  const [fallbackLanguage, setFallbackLanguage] = useLocalStorage(\n    \"fallbackLanguage\",\n    \"en\"\n  );\n  const translate = (key: string) => {\n    const keys = key.split(\".\");\n    console.log(keys, 'keys')\n    return (\n      getNestedTranslation(language, keys) ??\n      getNestedTranslation(fallbackLanguage, keys) ??\n      key\n    );\n  };\n\n  return {\n    language,\n    setLanguage,\n    fallbackLanguage,\n    setFallbackLanguage,\n    t: translate,\n    remove,\n  };\n};\nfunction getNestedTranslation(language: string, keys: any) {\n  console.log({language, keys});\n  // reduce nhận 2 đối số, hàm và giá trị khởi tạo\n  return keys.reduce((obj: any, key: string) => {\n    console.log(obj?.[key],obj, key, 'obj?.[key]')\n    return obj?.[key];\n  }, translations[language as keyof typeof translations]);\n}\nexport default useTranslation;\n"],"mappings":";;AACA,OAAO,KAAKA,YAAZ,MAA8B,iBAA9B;AACA,SAASC,eAAT,QAAgC,cAAhC;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAC3B,MAAM,CAACC,QAAD,EAAWC,WAAX,EAAwBC,MAAxB,IAAkCJ,eAAe,CAAC,UAAD,EAAa,IAAb,CAAvD;EACA,MAAM,CAACK,gBAAD,EAAmBC,mBAAnB,IAA0CN,eAAe,CAC7D,kBAD6D,EAE7D,IAF6D,CAA/D;;EAIA,MAAMO,SAAS,GAAIC,GAAD,IAAiB;IAAA;;IACjC,MAAMC,IAAI,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAb;IACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAAkB,MAAlB;IACA,wCACEI,oBAAoB,CAACX,QAAD,EAAWO,IAAX,CADtB,yEAEEI,oBAAoB,CAACR,gBAAD,EAAmBI,IAAnB,CAFtB,uCAGED,GAHF;EAKD,CARD;;EAUA,OAAO;IACLN,QADK;IAELC,WAFK;IAGLE,gBAHK;IAILC,mBAJK;IAKLQ,CAAC,EAAEP,SALE;IAMLH;EANK,CAAP;AAQD,CAxBD;;GAAMH,c;UACoCD,e,EACQA,e;;;AAuBlD,SAASa,oBAAT,CAA8BX,QAA9B,EAAgDO,IAAhD,EAA2D;EACzDE,OAAO,CAACC,GAAR,CAAY;IAACV,QAAD;IAAWO;EAAX,CAAZ,EADyD,CAEzD;;EACA,OAAOA,IAAI,CAACM,MAAL,CAAY,CAACC,GAAD,EAAWR,GAAX,KAA2B;IAC5CG,OAAO,CAACC,GAAR,CAAYI,GAAZ,aAAYA,GAAZ,uBAAYA,GAAG,CAAGR,GAAH,CAAf,EAAuBQ,GAAvB,EAA4BR,GAA5B,EAAiC,YAAjC;IACA,OAAOQ,GAAP,aAAOA,GAAP,uBAAOA,GAAG,CAAGR,GAAH,CAAV;EACD,CAHM,EAGJT,YAAY,CAACG,QAAD,CAHR,CAAP;AAID;;AACD,eAAeD,cAAf"},"metadata":{},"sourceType":"module"}