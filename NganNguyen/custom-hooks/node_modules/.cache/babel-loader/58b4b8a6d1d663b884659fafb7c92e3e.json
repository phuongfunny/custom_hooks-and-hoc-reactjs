{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useCallback, useState, useEffect } from \"react\";\nexport function useLocalStorage(key, defaultValue) {\n  _s();\n\n  return useStorage(key, defaultValue, localStorage);\n}\n\n_s(useLocalStorage, \"S0m34To1Ci5mukmSAeTwXfhfNsE=\", false, function () {\n  return [useStorage];\n});\n\nexport function useSessionStorage(key, defaultValue) {\n  _s2();\n\n  return useStorage(key, defaultValue, sessionStorage);\n}\n\n_s2(useSessionStorage, \"S0m34To1Ci5mukmSAeTwXfhfNsE=\", false, function () {\n  return [useStorage];\n});\n\nconst useStorage = (key, defaultValue, storageObject) => {\n  _s3();\n\n  const [language, setLanguage] = useState(() => {\n    const jsonValue = storageObject.getItem(key);\n\n    if (jsonValue != null) {\n      return JSON.parse(jsonValue);\n    } else {\n      return defaultValue;\n    }\n  });\n  useEffect(() => {\n    if (language === undefined) return storageObject.removeItem(key);\n    storageObject.setItem(key, JSON.stringify(language));\n  }, [key, language, storageObject]);\n  const remove = useCallback(() => {\n    setLanguage(undefined);\n  }, []);\n  return [language, setLanguage, remove];\n};\n\n_s3(useStorage, \"7Lni18ALoNn3zyvwmoNO0rJXyms=\");","map":{"version":3,"names":["useCallback","useState","useEffect","useLocalStorage","key","defaultValue","useStorage","localStorage","useSessionStorage","sessionStorage","storageObject","language","setLanguage","jsonValue","getItem","JSON","parse","undefined","removeItem","setItem","stringify","remove"],"sources":["/home/techchain/Desktop/custom_hooks-and-hoc-reactjs/NganNguyen/custom-hooks/src/hooks/useStorage.ts"],"sourcesContent":["import { useCallback, useState, useEffect } from \"react\";\n\nexport function useLocalStorage(key: string, defaultValue: string ) {\n  return useStorage(key, defaultValue, localStorage);\n}\n\nexport function useSessionStorage(key: string, defaultValue: string ) {\n  return useStorage(key, defaultValue, sessionStorage);\n}\n\nconst useStorage = (\n  key: string,\n  defaultValue: string,\n  storageObject: Storage\n) => {\n  const [language, setLanguage] = useState(() => {\n    const jsonValue = storageObject.getItem(key);\n    if (jsonValue != null) {\n      return JSON.parse(jsonValue);\n    }\n    else {\n      return defaultValue;\n    }\n  });\n\n  useEffect(() => {\n    if (language === undefined) return storageObject.removeItem(key);\n    storageObject.setItem(key, JSON.stringify(language));\n  }, [key, language, storageObject]);\n\n  const remove = useCallback(() => {\n    setLanguage(undefined);\n  }, []);\n\n  return [language, setLanguage, remove];\n};\n"],"mappings":";;;;AAAA,SAASA,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,OAAO,SAASC,eAAT,CAAyBC,GAAzB,EAAsCC,YAAtC,EAA6D;EAAA;;EAClE,OAAOC,UAAU,CAACF,GAAD,EAAMC,YAAN,EAAoBE,YAApB,CAAjB;AACD;;GAFeJ,e;UACPG,U;;;AAGT,OAAO,SAASE,iBAAT,CAA2BJ,GAA3B,EAAwCC,YAAxC,EAA+D;EAAA;;EACpE,OAAOC,UAAU,CAACF,GAAD,EAAMC,YAAN,EAAoBI,cAApB,CAAjB;AACD;;IAFeD,iB;UACPF,U;;;AAGT,MAAMA,UAAU,GAAG,CACjBF,GADiB,EAEjBC,YAFiB,EAGjBK,aAHiB,KAId;EAAA;;EACH,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,MAAM;IAC7C,MAAMY,SAAS,GAAGH,aAAa,CAACI,OAAd,CAAsBV,GAAtB,CAAlB;;IACA,IAAIS,SAAS,IAAI,IAAjB,EAAuB;MACrB,OAAOE,IAAI,CAACC,KAAL,CAAWH,SAAX,CAAP;IACD,CAFD,MAGK;MACH,OAAOR,YAAP;IACD;EACF,CARuC,CAAxC;EAUAH,SAAS,CAAC,MAAM;IACd,IAAIS,QAAQ,KAAKM,SAAjB,EAA4B,OAAOP,aAAa,CAACQ,UAAd,CAAyBd,GAAzB,CAAP;IAC5BM,aAAa,CAACS,OAAd,CAAsBf,GAAtB,EAA2BW,IAAI,CAACK,SAAL,CAAeT,QAAf,CAA3B;EACD,CAHQ,EAGN,CAACP,GAAD,EAAMO,QAAN,EAAgBD,aAAhB,CAHM,CAAT;EAKA,MAAMW,MAAM,GAAGrB,WAAW,CAAC,MAAM;IAC/BY,WAAW,CAACK,SAAD,CAAX;EACD,CAFyB,EAEvB,EAFuB,CAA1B;EAIA,OAAO,CAACN,QAAD,EAAWC,WAAX,EAAwBS,MAAxB,CAAP;AACD,CAzBD;;IAAMf,U"},"metadata":{},"sourceType":"module"}